<div class="backdrop" *ngIf="isLoading"></div>
<div class="loading-container" *ngIf="isLoading">
    <div class="loadingio-spinner-eclipse-xuonbou5rb">
      <div class="ldio-t9kn6m430qe">
        <div></div>
      </div>
    </div>
  
      <style type="text/css">
      @keyframes ldio-t9kn6m430qe {
        0% { transform: rotate(0deg) }
        50% { transform: rotate(180deg) }
        100% { transform: rotate(360deg) }
      }
      .ldio-t9kn6m430qe div {
        position: absolute;
        animation: ldio-t9kn6m430qe 1s linear infinite;
        width: 160px;
        height: 160px;
        top: 20px;
        left: 20px;
        border-radius: 50%;
        box-shadow: 0 7.2px 0 0 #f6ae2d;
        transform-origin: 80px 83.6px;
      }
      .loadingio-spinner-eclipse-xuonbou5rb {
        width: 200px;
        height: 200px;
        display: inline-block;
        overflow: hidden;
        background: transparent;
      }
      .ldio-t9kn6m430qe {
        width: 100%;
        height: 100%;
        position: relative;
        transform: translateZ(0) scale(1);
        backface-visibility: hidden;
        transform-origin: 0 0; /* see note above */
      }
      .ldio-t9kn6m430qe div { box-sizing: content-box; }
      /* generated by https://loading.io/ */
      </style>
</div>
<app-header></app-header>
<main class="settings-container">
    <h1 class="settings-header">Settings</h1>

    <form class="settings-form" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="omrs-input-group">
            <label class="omrs-input-underlined" [ngClass]="{'omrs-input-danger': form.get('oldpass').errors && formError}">
                <input type="password" name="oldpw" id="oldpw" formControlName="oldpass" required>
                <span class="omrs-input-label">Old Password</span>
                <span *ngIf="form.get('oldpass').errors && formError" class="omrs-input-helper">{{ formError }}</span>
            </label>
        </div>
    
        <div class="omrs-input-group">
            <label class="omrs-input-underlined" [ngClass]="{'omrs-input-danger': form.get('newpass').errors && formError}">
                <input type="password" name="newpw" id="newpw" formControlName="newpass" required>
                <span class="omrs-input-label">New Password</span>
                <span *ngIf="form.get('newpass').errors && formError" class="omrs-input-helper">{{ formError }}</span>
            </label>
        </div>

        <div *ngIf="error" class="server-error">
            <span>{{ error }}</span>
        </div>

        <div *ngIf="message" class="server-message">
            <span>{{ message }}</span>
        </div>
    
        <button type="submit" class="chg-btn">Make Change</button>
    </form>
</main>
